var register=document.querySelector(".user-block__register"),login=document.querySelector(".user-block__login"),regPopup=document.querySelector(".pop-up--register"),loginPopup=document.querySelector(".pop-up--login"),overlay=document.querySelector(".overlay"),regClose=document.querySelector(".pop-up--register .close"),loginClose=document.querySelector(".pop-up--login .close"),regForm=regPopup.querySelector("form"),loginForm=loginPopup.querySelector("form"),regName=regPopup.querySelector("[name=login]"),regEmail=regPopup.querySelector("[name=email]"),regPassword=regPopup.querySelector("[name=password]"),regPasswordRetype=regPopup.querySelector("[name=password-retype]"),loginEmail=loginPopup.querySelector("[name=email]"),loginPassword=loginPopup.querySelector("[name=password]"),linkToLogin=regPopup.querySelector(".pop-up__btn-redirect"),linkToRegister=loginPopup.querySelector(".pop-up__btn-redirect"),storage=localStorage.getItem("email");register.addEventListener("click",function(e){e.preventDefault(),regPopup.classList.add("pop-up--display"),overlay.classList.add("overlay--display"),regName.focus(),storage&&(regEmail.value=storage)}),regForm.addEventListener("submit",function(e){if(regPassword.value!==regPasswordRetype.value)return e.preventDefault(),alert("Passwords do not match"),!1;regName.value&&regEmail.value&&regPassword.value&&regPasswordRetype.value||(e.preventDefault(),console.log("Fill in data")),storage||localStorage.setItem("email",regEmail.value)}),regClose.addEventListener("click",function(e){e.preventDefault(),regPopup.classList.remove("pop-up--display"),overlay.classList.remove("overlay--display")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(regPopup.classList.contains("pop-up--display")&&regPopup.classList.remove("pop-up--display"),overlay.classList.contains("overlay--display")&&overlay.classList.remove("overlay--display"))}),login.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.add("pop-up--display"),overlay.classList.add("overlay--display"),storage?(loginEmail.value=storage,loginPassword.focus()):loginEmail.focus()}),loginForm.addEventListener("submit",function(e){loginEmail.value&&loginPassword.value?localStorage.setItem("email",loginEmail.value):(e.preventDefault(),console.log("Fill in data"))}),loginClose.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.remove("pop-up--display"),overlay.classList.remove("overlay--display")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(loginPopup.classList.contains("pop-up--display")&&loginPopup.classList.remove("pop-up--display"),overlay.classList.contains("overlay--display")&&overlay.classList.remove("overlay--display"))}),overlay.addEventListener("click",function(e){e.preventDefault(),regPopup.classList.contains("pop-up--display")&&(regPopup.classList.remove("pop-up--display"),overlay.classList.remove("overlay--display")),loginPopup.classList.contains("pop-up--display")&&(loginPopup.classList.remove("pop-up--display"),overlay.classList.remove("overlay--display"))}),linkToLogin.addEventListener("click",function(e){e.preventDefault(),regPopup.classList.remove("pop-up--display"),loginPopup.classList.add("pop-up--display")}),linkToRegister.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.remove("pop-up--display"),regPopup.classList.add("pop-up--display")});